<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Nuchistrike</title>
  <style>
    body { margin: 0; overflow: hidden; background: #222; }
    #info {
      position: absolute;
      top: 10px;
      left: 10px;
      color: white;
      background: rgba(0,0,0,0.6);
      padding: 10px;
      font-family: sans-serif;
      z-index: 1;
    }
  </style>
</head>
<body>
  <div id="info">Weight: 1 lb | HP: 100%</div>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script>
    let scene = new THREE.Scene();
    let camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    let renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Lighting
    const light = new THREE.DirectionalLight(0xffffff, 1);
    light.position.set(10, 10, 10);
    scene.add(light);
    scene.add(new THREE.AmbientLight(0xffffff, 0.4));

    // Ground
    const ground = new THREE.Mesh(
      new THREE.PlaneGeometry(100, 100),
      new THREE.MeshStandardMaterial({ color: 0x999999 })
    );
    ground.rotation.x = -Math.PI / 2;
    scene.add(ground);

    // Nucci Cat
    const cat = new THREE.Mesh(
      new THREE.SphereGeometry(0.5, 32, 32),
      new THREE.MeshStandardMaterial({ color: 0xcc8844 })
    );
    cat.position.y = 0.5;
    scene.add(cat);

    camera.position.set(0, 5, 10);
    camera.lookAt(cat.position);

    let foodItems = [];
    let weight = 1;
    let hp = 100;
    const info = document.getElementById('info');

    function spawnFood() {
      const food = new THREE.Mesh(
        new THREE.BoxGeometry(0.3, 0.3, 0.3),
        new THREE.MeshStandardMaterial({ color: 0xff5500 })
      );
      food.position.set((Math.random() - 0.5) * 40, 0.15, (Math.random() - 0.5) * 40);
      scene.add(food);
      foodItems.push(food);
    }

    for (let i = 0; i < 10; i++) spawnFood();

    document.addEventListener('keydown', (e) => {
      let move = e.shiftKey ? 0.2 : 0.1;
      if (e.key === 'w') cat.position.z -= move;
      if (e.key === 's') cat.position.z += move;
      if (e.key === 'a') cat.position.x -= move;
      if (e.key === 'd') cat.position.x += move;
    });

    function animate() {
      requestAnimationFrame(animate);
      foodItems.forEach((food, i) => {
        if (cat.position.distanceTo(food.position) < 0.5 + weight * 0.05) {
          scene.remove(food);
          foodItems.splice(i, 1);
          weight++;
          cat.scale.set(weight * 0.05, weight * 0.05, weight * 0.05);
          info.textContent = `Weight: ${weight} lbs | HP: ${hp}%`;
          spawnFood();
        }
      });
      camera.lookAt(cat.position);
      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>
